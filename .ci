#!/bin/bash
#
# This script builds all targets and runs the fuzzer on the solvers. 
# 

# exits the script immediately if a command exits with a non-zero status
set -e

# directory of this script
DIR=$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )

echo "Build all targets"
rm -r build # TODO: remove this line
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=Debug ..
make all

echo "Make fuzzer"
cd $DIR/tools/checker
make

# run fuzzer for 1.000 runs on riss, pcasso, pfolio
# TODO
